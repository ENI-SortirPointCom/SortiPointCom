{% extends 'base.html.twig' %}


{% block title %}{{controller_name}}{% endblock %}

{% block body %}
    <div class="d-inline-flex p-2 ">
        {{form_start(sortieFilterForm)}}
        {{ form_end(sortieFilterForm) }}
    </div>
    {% set nowDate = date('now') %}
    <div class="d-flex align-self-center p-2" style="margin-top:30px">
        <table class="table table-striped table-bordered">
            <thead>
            <tr align="center">
                <th scope="col">Nom de la sortie</th>
                <th scope="col">Date de la sortie</th>
                <th scope="col">Cl√¥ture</th>
                <th scope="col">nb Inscrits/places</th>
                <th scope="col">Etat</th>
                <th scope="col">Status</th>
                <th scope="col">Organisateur</th>
                <th scope="col">Actions</th>
            </tr>
            </thead>
            <tbody>
            {% for sortie in sorties %}
                <tr align="center">
                    <td>{{ sortie.nom }}</td>
                    <td>{{ sortie.dateHeureDebut | date("Y-d-m H:m:i") }}</td>
                    <td>{{ sortie.dateLimitInscription | date("Y-d-m") }}</td>
                    <td>{{ sortie|nbParticipant() }}/{{ sortie.nbInscriptionMax }}</td>
                    <td>{{ sortie.etat|default('undefinned') }}</td>
                    <td>{{ sortie|inscrit(user)|raw }}</td>
                    <td>{{ sortie.organisateur }}</td>
                    <td>{{ sortie|actions(user)|join|raw }}</td>
                </tr>
            {% endfor %}
            </tbody>

        </table>

    </div>
{% endblock %}
